#!/usr/bin/env bash
set -e

GALAXY="$1"
if [ -z "$GALAXY" ]; then
    echo "Usage: bash Utils/start <GalaxyName>"
    exit 1
fi

ROOT="$(cd "$(dirname "$0")/.." && pwd)"
echo "[START] Repo root: $ROOT"
echo "[START] Galaxy: $GALAXY"

source "$ROOT/.venv/bin/activate"

export PYJULIA_USE_PYTHONCALL=1
export OSPM_USE_JULIA=1
export PYTHONPATH="$ROOT"

python -m OSPM.Controllers.OSPM_RUN "$GALAXY"
